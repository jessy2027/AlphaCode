/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.chat-file-upload-widget {
	display: flex;
	flex-direction: column;
	gap: 8px;
	padding: 8px;
	border-radius: 6px;
	background-color: var(--vscode-input-background);
	border: 1px solid var(--vscode-input-border);
	transition: all 0.2s ease;
}

.chat-file-upload-widget:hover {
	border-color: var(--vscode-inputOption-activeBorder);
}

.chat-file-upload-widget.uploading {
	border-color: var(--vscode-progressBar-background);
	background-color: var(--vscode-input-background);
}

/* Zone de drop */
.file-drop-zone {
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: 120px;
	border: 2px dashed var(--vscode-input-border);
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.2s ease;
	background-color: var(--vscode-editor-background);
}

.file-drop-zone:hover {
	border-color: var(--vscode-inputOption-activeBorder);
	background-color: var(--vscode-input-background);
}

.file-drop-zone.drag-over {
	border-color: var(--vscode-focusBorder);
	background-color: var(--vscode-inputOption-activeBackground);
	border-style: solid;
	transform: scale(1.02);
}

.drop-zone-content {
	text-align: center;
	padding: 16px;
}

.drop-zone-icon {
	font-size: 32px;
	margin-bottom: 8px;
	color: var(--vscode-foreground);
	opacity: 0.7;
}

.drop-zone-text {
	font-size: 14px;
	font-weight: 500;
	color: var(--vscode-foreground);
	margin-bottom: 4px;
}

.drop-zone-hint {
	font-size: 12px;
	color: var(--vscode-descriptionForeground);
	line-height: 1.4;
}

/* Bouton d'upload */
.upload-button-container {
	display: flex;
	justify-content: center;
}

.upload-button-container .monaco-button {
	min-width: 140px;
	height: 32px;
	font-size: 13px;
}

.upload-button-container .monaco-button.disabled {
	opacity: 0.6;
	cursor: not-allowed;
}

/* Input file caché */
.file-input {
	display: none !important;
}

/* Barre de progression */
.progress-container {
	margin: 4px 0;
}

.progress-container .monaco-progress-container {
	height: 4px;
	border-radius: 2px;
	overflow: hidden;
}

.progress-container .monaco-progress-bit {
	background-color: var(--vscode-progressBar-background);
	transition: width 0.3s ease;
}

/* Statut */
.upload-status {
	font-size: 12px;
	color: var(--vscode-descriptionForeground);
	text-align: center;
	padding: 4px 8px;
	border-radius: 4px;
	background-color: var(--vscode-badge-background);
	display: none;
}

.upload-status:not(:empty) {
	display: block;
}

/* États spéciaux */
.chat-file-upload-widget.error .upload-status {
	color: var(--vscode-errorForeground);
	background-color: var(--vscode-inputValidation-errorBackground);
	border: 1px solid var(--vscode-inputValidation-errorBorder);
}

.chat-file-upload-widget.success .upload-status {
	color: var(--vscode-foreground);
	background-color: var(--vscode-inputValidation-infoBackground);
	border: 1px solid var(--vscode-inputValidation-infoBorder);
}

/* Responsive */
@media (max-width: 600px) {
	.file-drop-zone {
		min-height: 80px;
	}
	
	.drop-zone-content {
		padding: 12px;
	}
	
	.drop-zone-icon {
		font-size: 24px;
		margin-bottom: 6px;
	}
	
	.drop-zone-text {
		font-size: 13px;
	}
	
	.drop-zone-hint {
		font-size: 11px;
	}
}

/* Animation de chargement */
@keyframes uploadPulse {
	0% { opacity: 0.6; }
	50% { opacity: 1; }
	100% { opacity: 0.6; }
}

.chat-file-upload-widget.uploading .drop-zone-icon {
	animation: uploadPulse 1.5s ease-in-out infinite;
}

/* Thème sombre spécifique */
.vs-dark .file-drop-zone {
	border-color: var(--vscode-input-border);
}

.vs-dark .file-drop-zone:hover {
	border-color: var(--vscode-inputOption-activeBorder);
}

.vs-dark .file-drop-zone.drag-over {
	border-color: var(--vscode-focusBorder);
	background-color: rgba(255, 255, 255, 0.05);
}

/* Thème clair spécifique */
.vs .file-drop-zone.drag-over {
	background-color: rgba(0, 0, 0, 0.02);
}

/* Accessibilité */
.file-drop-zone:focus {
	outline: 2px solid var(--vscode-focusBorder);
	outline-offset: 2px;
}

.upload-button-container .monaco-button:focus {
	outline: 2px solid var(--vscode-focusBorder);
	outline-offset: 2px;
}

/* Indicateurs de types de fichiers */
.file-type-indicator {
	display: inline-flex;
	align-items: center;
	gap: 4px;
	padding: 2px 6px;
	border-radius: 3px;
	font-size: 11px;
	background-color: var(--vscode-badge-background);
	color: var(--vscode-badge-foreground);
	margin: 2px;
}

.file-type-indicator.image {
	background-color: var(--vscode-charts-green);
}

.file-type-indicator.document {
	background-color: var(--vscode-charts-blue);
}

.file-type-indicator.code {
	background-color: var(--vscode-charts-orange);
}

.file-type-indicator.archive {
	background-color: var(--vscode-charts-purple);
}

/* Animations d'entrée */
.chat-file-upload-widget {
	animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}
